<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=author content="Find_NICK"><meta name=description content="可以发现,当第 $ i $ 个订单可以满足时,第 $ i-1 $ 个订单也可以满足. 于是可以想到二分答案求解,差分计算每个订单,复杂度 $ O(n\log{n}) $ . #include<cstdio> #include<cstring> #include<algorithm> using namespace std; long long num[1000006];"><link rel=icon href=/favicon.ico><meta name=keywords content=" OI  code  algorithm  solution "><meta property="og:title" content="洛谷P1083"><meta property="og:description" content="可以发现,当第 $ i $ 个订单可以满足时,第 $ i-1 $ 个订单也可以满足. 于是可以想到二分答案求解,差分计算每个订单,复杂度 $ O(n\log{n}) $ . #include<cstdio> #include<cstring> #include<algorithm> using namespace std; long long num[1000006];"><meta property="og:type" content="article"><meta property="og:url" content="/post/luogu-p1083/"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-08-14T13:42:13+08:00"><meta property="article:modified_time" content="2023-08-14T13:42:13+08:00"><link rel=canonical href=/post/luogu-p1083/><meta itemprop=name content="洛谷P1083"><meta itemprop=description content="可以发现,当第 $ i $ 个订单可以满足时,第 $ i-1 $ 个订单也可以满足. 于是可以想到二分答案求解,差分计算每个订单,复杂度 $ O(n\log{n}) $ . #include<cstdio> #include<cstring> #include<algorithm> using namespace std; long long num[1000006];"><meta itemprop=datePublished content="2023-08-14T13:42:13+08:00"><meta itemprop=dateModified content="2023-08-14T13:42:13+08:00"><meta itemprop=wordCount content="151"><meta itemprop=keywords content="algorithm,solution,"><link media=screen rel=stylesheet href=/css/common.css><link media=screen rel=stylesheet href=/css/content.css><title>洛谷P1083 - 0x3f</title><meta name=twitter:card content="summary"><meta name=twitter:title content="洛谷P1083"><meta name=twitter:description content="可以发现,当第 $ i $ 个订单可以满足时,第 $ i-1 $ 个订单也可以满足. 于是可以想到二分答案求解,差分计算每个订单,复杂度 $ O(n\log{n}) $ . #include<cstdio> #include<cstring> #include<algorithm> using namespace std; long long num[1000006];"><link rel=stylesheet href=/css/single.css></head><body><div id=wrapper><header id=header><link href=/css/custom.css rel=stylesheet><h1><a href=/>0x3f</a></h1><link rel=stylesheet href=https://cdn.staticfile.org/KaTeX/0.16.8/katex.min.css crossorigin=anonymous><link rel=stylesheet href="https://fonts.loli.net/css2?family=Noto+Serif+SC:wght@300;700&display=swap"><script defer src=https://cdn.staticfile.org/KaTeX/0.16.8/katex.min.js crossorigin=anonymous></script>
<script defer src=https://cdn.staticfile.org/KaTeX/0.16.8/contrib/auto-render.min.js crossorigin=anonymous></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}],ignoredTags:["script","noscript","style","textarea","pre","code","option"],throwOnError:!1})})</script><nav><span class=nav-bar-item><a class=link href=/>Post</a></span>
<span class=nav-bar-item><a class=link href=/post/>Archives</a></span>
<span class=nav-bar-item><a class=link href=/about/>About</a></span></nav></header><main id=main class=post><h1>洛谷P1083</h1><div><b>Keywords:</b>
<a class=link href=/tags/algorithm>#algorithm</a>
<a class=link href=/tags/solution>#solution</a></div><article class=content><p>可以发现,当第 $ i $ 个订单可以满足时,第 $ i-1 $ 个订单也可以满足.</p><p>于是可以想到二分答案求解,差分计算每个订单,复杂度 $ O(n\log{n}) $ .</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#999;font-weight:700;font-style:italic>#include</span><span style=color:#999;font-weight:700;font-style:italic>&lt;cstdio&gt;</span><span style=color:#999;font-weight:700;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#999;font-weight:700;font-style:italic>#include</span><span style=color:#999;font-weight:700;font-style:italic>&lt;cstring&gt;</span><span style=color:#999;font-weight:700;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#999;font-weight:700;font-style:italic>#include</span><span style=color:#999;font-weight:700;font-style:italic>&lt;algorithm&gt;</span><span style=color:#999;font-weight:700;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#999;font-weight:700;font-style:italic></span><span style=color:#000;font-weight:700>using</span> <span style=color:#000;font-weight:700>namespace</span> std; 
</span></span><span style=display:flex><span><span style=color:#458;font-weight:700>long</span> <span style=color:#458;font-weight:700>long</span> num[<span style=color:#099>1000006</span>];
</span></span><span style=display:flex><span><span style=color:#458;font-weight:700>long</span> <span style=color:#458;font-weight:700>long</span> r[<span style=color:#099>1000006</span>],n,m,res;
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>struct</span> <span style=color:#458;font-weight:700>Node</span>{
</span></span><span style=display:flex><span>	<span style=color:#458;font-weight:700>long</span> <span style=color:#458;font-weight:700>long</span> l,r,k;
</span></span><span style=display:flex><span>}node[<span style=color:#099>1000006</span>];
</span></span><span style=display:flex><span><span style=color:#458;font-weight:700>int</span> <span style=color:#900;font-weight:700>check</span>(<span style=color:#458;font-weight:700>long</span> <span style=color:#458;font-weight:700>long</span> x){
</span></span><span style=display:flex><span>	res<span style=color:#000;font-weight:700>=</span><span style=color:#099>0</span>;
</span></span><span style=display:flex><span>	memset(num,<span style=color:#099>0</span>,<span style=color:#000;font-weight:700>sizeof</span> num);
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>for</span>(<span style=color:#458;font-weight:700>int</span> i<span style=color:#000;font-weight:700>=</span><span style=color:#099>1</span>;i<span style=color:#000;font-weight:700>&lt;=</span>x;i<span style=color:#000;font-weight:700>++</span>){
</span></span><span style=display:flex><span>		num[node[i].l]<span style=color:#000;font-weight:700>+=</span>node[i].k;
</span></span><span style=display:flex><span>		num[node[i].r<span style=color:#000;font-weight:700>+</span><span style=color:#099>1</span>]<span style=color:#000;font-weight:700>-=</span>node[i].k;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>for</span>(<span style=color:#458;font-weight:700>int</span> i<span style=color:#000;font-weight:700>=</span><span style=color:#099>1</span>;i<span style=color:#000;font-weight:700>&lt;=</span>n;i<span style=color:#000;font-weight:700>++</span>){
</span></span><span style=display:flex><span>		res<span style=color:#000;font-weight:700>+=</span>num[i];
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>if</span>(res<span style=color:#000;font-weight:700>&gt;</span>r[i]){
</span></span><span style=display:flex><span>			<span style=color:#000;font-weight:700>return</span>  <span style=color:#099>0</span>;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>return</span> <span style=color:#099>1</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#458;font-weight:700>int</span> <span style=color:#900;font-weight:700>main</span>(){
</span></span><span style=display:flex><span>	scanf(<span style=color:#d14>&#34;%lld%lld&#34;</span>,<span style=color:#000;font-weight:700>&amp;</span>n,<span style=color:#000;font-weight:700>&amp;</span>m);
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>for</span>(<span style=color:#458;font-weight:700>int</span> i<span style=color:#000;font-weight:700>=</span><span style=color:#099>1</span>;i<span style=color:#000;font-weight:700>&lt;=</span>n;i<span style=color:#000;font-weight:700>++</span>){
</span></span><span style=display:flex><span>		scanf(<span style=color:#d14>&#34;%lld&#34;</span>,<span style=color:#000;font-weight:700>&amp;</span>r[i]);
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>for</span>(<span style=color:#458;font-weight:700>int</span> i<span style=color:#000;font-weight:700>=</span><span style=color:#099>1</span>;i<span style=color:#000;font-weight:700>&lt;=</span>m;i<span style=color:#000;font-weight:700>++</span>){
</span></span><span style=display:flex><span>		scanf(<span style=color:#d14>&#34;%lld%lld%lld&#34;</span>,<span style=color:#000;font-weight:700>&amp;</span>node[i].k,<span style=color:#000;font-weight:700>&amp;</span>node[i].l,<span style=color:#000;font-weight:700>&amp;</span>node[i].r);
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#458;font-weight:700>long</span> <span style=color:#458;font-weight:700>long</span> l<span style=color:#000;font-weight:700>=</span><span style=color:#099>0</span>,r<span style=color:#000;font-weight:700>=</span>m;
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>while</span>(l<span style=color:#000;font-weight:700>&lt;</span>r){
</span></span><span style=display:flex><span>		<span style=color:#458;font-weight:700>long</span> <span style=color:#458;font-weight:700>long</span> mid<span style=color:#000;font-weight:700>=</span>(l<span style=color:#000;font-weight:700>+</span>r<span style=color:#000;font-weight:700>+</span><span style=color:#099>1</span>)<span style=color:#000;font-weight:700>&gt;&gt;</span><span style=color:#099>1</span>;
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>if</span>(check(mid)){
</span></span><span style=display:flex><span>			l<span style=color:#000;font-weight:700>=</span>mid;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>		<span style=color:#000;font-weight:700>else</span>{
</span></span><span style=display:flex><span>			r<span style=color:#000;font-weight:700>=</span>mid<span style=color:#000;font-weight:700>-</span><span style=color:#099>1</span>;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>if</span>(l<span style=color:#000;font-weight:700>==</span>m){
</span></span><span style=display:flex><span>		printf(<span style=color:#d14>&#34;0&#34;</span>);
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>else</span>{
</span></span><span style=display:flex><span>		printf(<span style=color:#d14>&#34;-1</span><span style=color:#d14>\n</span><span style=color:#d14>%d&#34;</span>,l<span style=color:#000;font-weight:700>+</span><span style=color:#099>1</span>);
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#000;font-weight:700>return</span> <span style=color:#099>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>注意开<code>long long</code>(大悲)</p></article><div class=paginator><a class=link href=/post/luogu-p1311/>← prev</a>
<a></a></div><div class=comment></div></main><footer id=footer><div><span>© 2023</span> - <span>2023</span></div><div class=footnote><span></span></div></footer></div></body></html>